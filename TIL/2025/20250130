Item85. 자바 직렬화의 대안을 찾으라

직렬화, 역직렬화
 - 자바 시스템 내부에서 사용되는 객체 또는 데이터를 외부의 자바 시스템에서도 사용할 수 있도록 바이트(byte) 형태로 데이터 변환하는 기술
 
자바 직렬화의 근본적인 문제 - 취약점
직렬화의 근본적인 문제는 공격 범위가 너무 넓고, 지속적으로 더 넓어지기 때문에 방어하기 어렵다는 점
ObjectInputStream의 readObject() 메서드는 Serializable 인터페이스를 구현한 클래스패스 안에 거의 모든 타입의 객체를 만들어 낼 수 있음
바이트 스트림을 역직렬화하는 과정에서 이 메서드는 그 타입들 안의 모든 코드를 수행할 수 있고
이로 인해 그 타입들의 코드 전체가 공격 범위에 들어가게 됨

역직렬화 폭탄
역직렬화에 시간이 오래 걸리는 짧은 스트림을 역직렬화하는 스트림을 역직렬화 폭탄이라고 함
역직렬화 폭탄은 서비스 거부 공격(DOS 공격)에 쉽게 노출된다.

직렬화의 대안
시스템을 처음 설계한다면 JSON이나 프로토콜 버퍼 같은 직렬화 시스템을 사용하자
신뢰할 수 없는 데이터라면 역직렬화를 하지 말자
자바 직렬화를 사용해야 한다면 역직렬화 필터링을 사용하되, 이 마저도 모든 공격을 막을 수 없음

